{"ast":null,"code":"var _jsxFileName = \"C:\\\\laragon\\\\www\\\\testeAstrus\\\\frontend\\\\src\\\\components\\\\crud\\\\Produtos\\\\FormEdit.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction FormEdit({\n  isOpen,\n  id\n}) {\n  _s();\n  const [fornecedora, setFornecedora] = useState([]);\n  var token = localStorage.getItem('token');\n  const [filme, setfilme] = useState({\n    'titulo': '',\n    'sinopse': '',\n    'duracao': '',\n    'categoria': ''\n  });\n  useEffect(() => {\n    axios.get('http://localhost:8000/api/crud/fornecedoras').then(response => {\n      setFornecedora(response.data);\n    }).catch(error => {\n      return error;\n    });\n    axios.get(`http://localhost:8000/api/crud/filmes/${id}`).then(res => {\n      setfilme({\n        ...filme,\n        nome: res.data.nome,\n        descricao: res.data.descricao,\n        valor: res.data.valor\n      });\n    });\n  }, []);\n  const handleInput = event => {\n    setfilme({\n      ...filme,\n      [event.target.name]: event.target.value\n    });\n  };\n  function handleSubmit(event) {\n    event.preventDefault();\n    axios.post(`http://localhost:8000/api/crud/filme/${id}/edit`, filme, {\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    }).then(() => {\n      localStorage.setItem('msg', \"filme editado com sucesso\");\n      window.location.href = '/read';\n    }).catch(() => {\n      localStorage.setItem('msg', \"Erro ao editar filme\");\n      window.location.href = '/read';\n    });\n  }\n  if (isOpen) {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"formModal\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"hidden\",\n        name: \"id\",\n        value: id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"nome\",\n        placeholder: \"Nome\",\n        onChange: handleInput,\n        value: filme.nome\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"descricao\",\n        placeholder: \"Descri\\xE7\\xE3o\",\n        onChange: handleInput,\n        value: filme.descricao\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"valor\",\n        placeholder: \"Valor\",\n        onChange: handleInput,\n        value: filme.valor\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"fornecedora\",\n        onChange: handleInput,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          disabled: true,\n          selected: true,\n          children: \"Fornecedora\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), fornecedora.map(fornecedora => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: fornecedora.id,\n          children: fornecedora.nome\n        }, fornecedora.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btnFormEdit\",\n        type: \"submit\",\n        onClick: handleSubmit,\n        children: \"Editar filme\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this);\n  }\n}\n_s(FormEdit, \"sLi9WfuPA6mzH4p9RgWZoT0VQAA=\");\n_c = FormEdit;\nexport default FormEdit;\nvar _c;\n$RefreshReg$(_c, \"FormEdit\");","map":{"version":3,"names":["useState","useEffect","axios","jsxDEV","_jsxDEV","FormEdit","isOpen","id","_s","fornecedora","setFornecedora","token","localStorage","getItem","filme","setfilme","get","then","response","data","catch","error","res","nome","descricao","valor","handleInput","event","target","name","value","handleSubmit","preventDefault","post","headers","setItem","window","location","href","className","children","type","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","disabled","selected","map","onClick","_c","$RefreshReg$"],"sources":["C:/laragon/www/testeAstrus/frontend/src/components/crud/Produtos/FormEdit.js"],"sourcesContent":["import { useState, useEffect } from \"react\"\r\nimport axios from \"axios\"\r\n\r\nfunction FormEdit({ isOpen, id}) {\r\n  const [fornecedora, setFornecedora] = useState([])\r\n\r\n  var token = localStorage.getItem('token')\r\n\r\n  const [filme, setfilme] = useState({\r\n    'titulo': '',\r\n    'sinopse': '',\r\n    \r\n    'duracao': '',\r\n    'categoria': ''\r\n  })\r\n\r\n  useEffect(() => {\r\n    axios.get('http://localhost:8000/api/crud/fornecedoras')\r\n      .then(response => {\r\n        setFornecedora(response.data)\r\n      })\r\n      .catch(error => {\r\n        return error\r\n      })\r\n    axios.get(`http://localhost:8000/api/crud/filmes/${id}`)\r\n    .then(res => {\r\n      setfilme({...filme, nome: res.data.nome, descricao: res.data.descricao, valor: res.data.valor} )\r\n    })\r\n  }, [])\r\n\r\n  const handleInput = (event) => {\r\n    setfilme({\r\n      ...filme,\r\n      [event.target.name]: event.target.value\r\n    })\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault()\r\n    axios.post(`http://localhost:8000/api/crud/filme/${id}/edit`, filme, {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n     }\r\n    })\r\n      .then(() => {\r\n        localStorage.setItem('msg', \"filme editado com sucesso\")\r\n        window.location.href = '/read'\r\n      }).catch(() => {\r\n        localStorage.setItem('msg', \"Erro ao editar filme\")\r\n        window.location.href = '/read'\r\n      })\r\n  }\r\n\r\n  if (isOpen) {\r\n    return (\r\n      <form className=\"formModal\">\r\n        <input type=\"hidden\" name=\"id\" value={id} />\r\n        <input type=\"text\" name=\"nome\" placeholder=\"Nome\" onChange={handleInput} value={filme.nome} />\r\n        <input type=\"text\" name=\"descricao\" placeholder=\"Descrição\" onChange={handleInput} value={filme.descricao} />\r\n        <input type=\"number\" name=\"valor\" placeholder=\"Valor\" onChange={handleInput} value={filme.valor} />\r\n\r\n        <select name=\"fornecedora\" onChange={handleInput}>\r\n          <option disabled selected>Fornecedora</option>\r\n          {fornecedora.map(fornecedora => (\r\n            <option key={fornecedora.id} value={fornecedora.id}>\r\n              {fornecedora.nome}\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        <button className=\"btnFormEdit\" type='submit' onClick={handleSubmit}>Editar filme</button>\r\n\r\n      </form>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default FormEdit"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}