{"ast":null,"code":"var _jsxFileName = \"C:\\\\laragon\\\\www\\\\testeAstrus\\\\frontend\\\\src\\\\components\\\\crud\\\\Produtos\\\\FormEdit.js\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction FormEdit({\n  isOpen,\n  id\n}) {\n  _s();\n  const [fornecedora, setFornecedora] = useState([]);\n  var token = localStorage.getItem('token');\n  const [filme, setfilme] = useState({\n    'titulo': '',\n    'sinopse': '',\n    'ano': '',\n    'idioma': '',\n    'duracao': '',\n    'categoria': ''\n  });\n  useEffect(() => {\n    axios.get('http://localhost:8000/api/crud/fornecedoras').then(response => {\n      setFornecedora(response.data);\n    }).catch(error => {\n      return error;\n    });\n    axios.get(`http://localhost:8000/api/crud/filmes/${id}`).then(res => {\n      setfilme({\n        ...filme,\n        ...res.data\n      });\n    });\n  }, []);\n  const handleInput = event => {\n    setfilme({\n      ...filme,\n      [event.target.name]: event.target.value\n    });\n  };\n  function handleSubmit(event) {\n    event.preventDefault();\n    axios.post(`http://localhost:8000/api/crud/filmes/${id}`, filme, {\n      headers: {\n        'Authorization': `Bearer ${token}`\n      }\n    }).then(() => {\n      localStorage.setItem('msg', \"filme editado com sucesso\");\n      window.location.href = '/read';\n    }).catch(() => {\n      localStorage.setItem('msg', \"Erro ao editar filme\");\n      window.location.href = '/read';\n    });\n  }\n  if (isOpen) {\n    return /*#__PURE__*/_jsxDEV(\"form\", {\n      className: \"formModal\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"hidden\",\n        name: \"id\",\n        value: id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 58,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"titulo\",\n        placeholder: \"titulo\",\n        onChange: handleInput,\n        value: filme.titulo\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"sinopse\",\n        placeholder: \"Sinopse\",\n        onChange: handleInput,\n        value: filme.sinopse\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"ano\",\n        placeholder: \"Ano\",\n        onChange: handleInput,\n        value: filme.ano\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        name: \"idioma\",\n        placeholder: \"Idioma\",\n        onChange: handleInput,\n        value: filme.idioma\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        name: \"duracao\",\n        placeholder: \"Duracao\",\n        onChange: handleInput,\n        value: filme.duracao\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 63,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n        name: \"fornecedora\",\n        onChange: handleInput,\n        children: [/*#__PURE__*/_jsxDEV(\"option\", {\n          disabled: true,\n          selected: true,\n          children: \"Fornecedora\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), fornecedora.map(fornecedora => /*#__PURE__*/_jsxDEV(\"option\", {\n          value: fornecedora.id,\n          children: fornecedora.titulo\n        }, fornecedora.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 13\n        }, this))]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: \"btnFormEdit\",\n        type: \"submit\",\n        onClick: handleSubmit,\n        children: \"Editar filme\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 74,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 7\n    }, this);\n  }\n}\n_s(FormEdit, \"UerwaaSxsu31uubUpZVrhwJpAqI=\");\n_c = FormEdit;\nexport default FormEdit;\nvar _c;\n$RefreshReg$(_c, \"FormEdit\");","map":{"version":3,"names":["useState","useEffect","axios","jsxDEV","_jsxDEV","FormEdit","isOpen","id","_s","fornecedora","setFornecedora","token","localStorage","getItem","filme","setfilme","get","then","response","data","catch","error","res","handleInput","event","target","name","value","handleSubmit","preventDefault","post","headers","setItem","window","location","href","className","children","type","fileName","_jsxFileName","lineNumber","columnNumber","placeholder","onChange","titulo","sinopse","ano","idioma","duracao","disabled","selected","map","onClick","_c","$RefreshReg$"],"sources":["C:/laragon/www/testeAstrus/frontend/src/components/crud/Produtos/FormEdit.js"],"sourcesContent":["import { useState, useEffect } from \"react\"\r\nimport axios from \"axios\"\r\n\r\nfunction FormEdit({ isOpen, id}) {\r\n  const [fornecedora, setFornecedora] = useState([])\r\n\r\n  var token = localStorage.getItem('token')\r\n\r\n  const [filme, setfilme] = useState({\r\n    'titulo': '',\r\n    'sinopse': '',\r\n    'ano': '',\r\n    'idioma': '',\r\n    'duracao': '',\r\n    'categoria': ''\r\n  })\r\n\r\n  useEffect(() => {\r\n    axios.get('http://localhost:8000/api/crud/fornecedoras')\r\n      .then(response => {\r\n        setFornecedora(response.data)\r\n      })\r\n      .catch(error => {\r\n        return error\r\n      })\r\n    axios.get(`http://localhost:8000/api/crud/filmes/${id}`)\r\n    .then(res => {\r\n      setfilme({...filme, ...res.data} )\r\n    })\r\n  }, [])\r\n\r\n  const handleInput = (event) => {\r\n    setfilme({\r\n      ...filme,\r\n      [event.target.name]: event.target.value\r\n    })\r\n  }\r\n\r\n  function handleSubmit(event) {\r\n    event.preventDefault()\r\n    axios.post(`http://localhost:8000/api/crud/filmes/${id}`, filme, {\r\n      headers: {\r\n        'Authorization': `Bearer ${token}`\r\n     }\r\n    })\r\n      .then(() => {\r\n        localStorage.setItem('msg', \"filme editado com sucesso\")\r\n        window.location.href = '/read'\r\n      }).catch(() => {\r\n        localStorage.setItem('msg', \"Erro ao editar filme\")\r\n        window.location.href = '/read'\r\n      })\r\n  }\r\n\r\n  if (isOpen) {\r\n    return (\r\n      <form className=\"formModal\">\r\n        <input type=\"hidden\" name=\"id\" value={id} />\r\n        <input type=\"text\" name=\"titulo\" placeholder=\"titulo\" onChange={handleInput} value={filme.titulo} />\r\n        <input type=\"text\" name=\"sinopse\" placeholder=\"Sinopse\" onChange={handleInput} value={filme.sinopse} />\r\n        <input type=\"number\" name=\"ano\" placeholder=\"Ano\" onChange={handleInput} value={filme.ano} />\r\n        <input type=\"text\" name=\"idioma\" placeholder=\"Idioma\" onChange={handleInput} value={filme.idioma} />\r\n        <input type=\"number\" name=\"duracao\" placeholder=\"Duracao\" onChange={handleInput} value={filme.duracao} />\r\n\r\n        <select name=\"fornecedora\" onChange={handleInput}>\r\n          <option disabled selected>Fornecedora</option>\r\n          {fornecedora.map(fornecedora => (\r\n            <option key={fornecedora.id} value={fornecedora.id}>\r\n              {fornecedora.titulo}\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        <button className=\"btnFormEdit\" type='submit' onClick={handleSubmit}>Editar filme</button>\r\n\r\n      </form>\r\n    )\r\n  }\r\n\r\n}\r\n\r\nexport default FormEdit"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}